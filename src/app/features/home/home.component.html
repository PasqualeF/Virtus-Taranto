<div class="home-container" [class.loading]="isLoading">
  <!-- Progress Bar -->
  <div class="scroll-progress" [style.width.%]="scrollProgress"></div>

  <!-- Loading Screen Migliorata -->
  <div class="loading-screen" *ngIf="isLoading">
    <div class="loading-content">
      <div class="logos-wrapper">
        <div class="logo-container" *ngFor="let logo of logos; let i = index">
          <img [src]="logo" 
               [class.loaded]="logoLoadStates[i]"
               class="loading-logo"
               (load)="onLogoLoad(i)"
               alt="Logo">
          <div class="logo-glow"></div>
        </div>
      </div>
      <div class="loading-progress-container">
        <div class="loading-bar">
          <div class="loading-progress" [style.width.%]="loadingProgress"></div>
        </div>
        <div class="loading-percentage">{{ loadingProgress }}%</div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div role="main" [class.content-loaded]="!isLoading">
    <!-- Home Section Mobile Version - Enhanced Basketball Theme -->
    <section *ngIf="isMobile" id="hero" class="section hero-section mobile-view" [class.active]="currentSection === 'hero'">
      <div class="mobile-content">
        
        <!-- Main Content -->
        <div class="mobile-text-content">
          <h1 class="mobile-title">
            <span class="virtus-text">Benvenuti in Casa Orange</span>
            <span class="sottotitolo">Gruppo Support_O Virtus VPS</span>
          </h1>
          <p class="mobile-slogan">
            Cresciamo insieme, un allenamento alla volta.
          </p>
          
          <!-- Enhanced Match Banner with Fallback 
          <div class="next-match-banner" *ngIf="upcomingMatches && upcomingMatches.length > 0">
            <div class="next-match-title">🏀 Prossima Partita</div>
            <div class="next-match-teams">
              {{ upcomingMatches[0].homeTeam }} vs {{ upcomingMatches[0].awayTeam }}
            </div>
            <div class="next-match-info">
              {{ upcomingMatches[0].date | date:'dd/MM' }} - {{ upcomingMatches[0].time }} | {{ upcomingMatches[0].venue }}
            </div>
          </div>

          No Matches Fallback 
          <div class="no-matches-banner" *ngIf="!upcomingMatches || upcomingMatches.length === 0">
            <div class="no-matches-icon">🏀</div>
            <div class="no-matches-title">Calendario in Aggiornamento</div>
            <div class="no-matches-text">Seguici sui social per tutti gli aggiornamenti!</div>
          </div> -->
          
          <!-- Stats Row -->
          <div class="mobile-stats-row">
            <div class="mobile-stat">
              <div class="stat-number">14+</div>
              <div class="stat-label">Anni di Storia</div>
            </div>
            <div class="mobile-stat">
              <div class="stat-number">500+</div>
              <div class="stat-label">Giovani Atleti</div>
            </div>
            <div class="mobile-stat">
              <div class="stat-number">18+</div>
              <div class="stat-label">Gruppi Gestiti</div>
            </div>
          </div>
          
          <!-- Typewriter Text 
          <div class="mobile-typewriter">
            <span class="typewriter-text" #mobileTypewriterText></span>
            <span class="cursor" [class.typing]="isTyping"></span>
          </div>-->
          
          <!-- CTA Button -->
          <button class="mobile-cta-btn" (click)="scrollToSection('story')">
           LA NOSTRA STORIA
          </button>
          
          <!-- Social Connect Area (replacing newsletter) -->
          <div class="social-connect-area">
            <div class="social-connect-title">Seguici sui Social</div>
            <div class="social-buttons">
  <button class="social-btn instagram" (click)="openSocialLink('instagram')" aria-label="Instagram">
   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" fill="currentColor">
  <path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9S160.5 370.8 224.1 370.8 339 319.5 339 255.9 287.7 141 224.1 141zm0 186.6c-39.6 0-71.7-32.1-71.7-71.7s32.1-71.7 71.7-71.7 71.7 32.1 71.7 71.7-32.1 71.7-71.7 71.7zm146.4-194.3c0 14.9-12 26.9-26.9 26.9s-26.9-12-26.9-26.9 12-26.9 26.9-26.9 26.9 12 26.9 26.9zm76.1 27.2c-1.7-35.7-9.9-67.3-36.2-93.5S378.3 48 342.6 46.3c-35.7-1.7-143.1-1.7-178.8 0-35.7 1.7-67.3 9.9-93.5 36.2S48 133.7 46.3 169.4c-1.7 35.7-1.7 143.1 0 178.8 1.7 35.7 9.9 67.3 36.2 93.5s57.8 34.5 93.5 36.2c35.7 1.7 143.1 1.7 178.8 0 35.7-1.7 67.3-9.9 93.5-36.2s34.5-57.8 36.2-93.5c1.7-35.7 1.7-143.1 0-178.8zM398.8 388c-7.8 19.6-22.9 34.7-42.5 42.5-29.4 11.7-99.2 9-132.3 9s-102.9 2.6-132.3-9c-19.6-7.8-34.7-22.9-42.5-42.5-11.7-29.4-9-99.2-9-132.3s-2.6-102.9 9-132.3c7.8-19.6 22.9-34.7 42.5-42.5C121.1 56.2 190.9 59 224 59s102.9-2.6 132.3 9c19.6 7.8 34.7 22.9 42.5 42.5 11.7 29.4 9 99.2 9 132.3s2.7 102.9-9 132.3z"/>
</svg>

  </button>

  <button class="social-btn facebook" (click)="openSocialLink('facebook')" aria-label="Facebook">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 320 512" fill="currentColor">
      <path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06H293V6.26S259.5 0 225.36 0c-73.22 0-121.14 44.38-121.14 124.72v70.62H22.89V288h81.33v224h100.2V288z"/>
    </svg>
  </button>

  <button class="social-btn youtube" (click)="openSocialLink('youtube')" aria-label="YouTube">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 576 512" fill="currentColor">
      <path d="M549.655 124.083c-6.281-23.65-24.764-42.27-48.388-48.567C457.838 64 288 64 288 64s-169.838 0-213.267 11.516c-23.625 6.297-42.107 24.917-48.388 48.567C16 168.65 16 256 16 256s0 87.35 10.345 131.917c6.281 23.65 24.764 42.27 48.388 48.567C118.162 448 288 448 288 448s169.838 0 213.267-11.516c23.625-6.297 42.107-24.917 48.388-48.567C560 343.35 560 256 560 256s0-87.35-10.345-131.917zM232 336V176l142 80-142 80z"/>
    </svg>
  </button>

  <!--<button class="social-btn tiktok" (click)="openSocialLink('tiktok')" aria-label="TikTok">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 448 512" fill="currentColor">
      <path d="M448,209.8v125.1c-23.7,0-47.4-3.5-70.2-10.4v86.1c0,55.2-44.8,100-100,100s-100-44.8-100-100,44.8-100,100-100c5.3,0,10.4,0.4,15.4,1.2V276.7c-5.1-.7-10.3-1.1-15.4-1.1-83.8,0-152,68.2-152,152s68.2,152,152,152,152-68.2,152-152V286.9c22.3,6.9,45.6,10.5,70,10.5V209.8H448zM377.8,0H302.5v167.3c20.9,13.2,45.4,21,72,21V107.8c-25.3-5.4-48.3-18.7-67.3-37.7S313.5,25.3,308,0h69.8z"/>
    </svg>
  </button> -->
</div>

          </div>
        </div>
        
        <!-- Bottom Logos -->
        <div class="bottom-logos">
          <img *ngFor="let logo of logos" [src]="logo" alt="Logo" class="bottom-logo">
        </div>
      </div>
    </section>

    <!-- Desktop version remains unchanged -->
    <section *ngIf="!isMobile" id="hero" class="section hero-section" [class.active]="currentSection === 'hero'">
      <!-- Keep existing desktop code -->
      <div class="content-wrapper">
        <!-- Logos Container -->
        <div class="logos-container">
          <div class="logo-wrapper" *ngFor="let logo of logos; let i = index" [class.appear]="logoAnimationStates[i]">
            <div class="logo-3d" [class.appear]="logoAnimationStates[i]">
              <img [src]="logo" alt="Logo" class="floating-logo">
              <div class="logo-glow"></div>
            </div>
          </div>
        </div>

        <!-- Text Content -->
        <div class="text-content">
          <h1 class="main-title" [class.appear]="titleAnimationState">
            <span class="title-highlight">Benvenuti in</span>
            <span class="title-highlight">Casa Orange</span>
            
          </h1>
            <span class="sottotitolo">Gruppo Support_O Virtus VPS</span>

          <!-- NEW: Desktop Motivational Slogan -->
          <p class="desktop-slogan" [class.appear]="titleAnimationState">
            Cresciamo insieme, un allenamento alla volta.
          </p>

          <!-- NEW: Desktop Match Banner with Fallback 
          <div class="desktop-match-banner" *ngIf="upcomingMatches && upcomingMatches.length > 0">
            <div class="desktop-match-title">🏀 Prossima Partita</div>
            <div class="desktop-match-teams">
              {{ upcomingMatches[0].homeTeam }} vs {{ upcomingMatches[0].awayTeam }}
            </div>
            <div class="desktop-match-info">
              <span class="desktop-match-detail">📅 {{ upcomingMatches[0].date | date:'dd/MM/yyyy' }}</span>
              <span class="desktop-match-detail">🕐 {{ upcomingMatches[0].time }}</span>
              <span class="desktop-match-detail">🏟️ {{ upcomingMatches[0].venue }}</span>
            </div>
          </div>

          Desktop No Matches Fallback 
          <div class="desktop-no-matches-banner" *ngIf="!upcomingMatches || upcomingMatches.length === 0">
            <div class="desktop-no-matches-icon">🏀</div>
            <div class="desktop-no-matches-title">Calendario in Aggiornamento</div>
            <div class="desktop-no-matches-text">Seguici sui nostri canali per rimanere sempre aggiornato sulle prossime partite</div>
          </div>-->

          <!-- Stats Counter -->
          <div class="hero-stats" [class.appear]="titleAnimationState">
            <div class="stat-item">
              <div class="stat-value">14+</div>
              <div class="stat-label">Anni di Storia</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">500+</div>
              <div class="stat-label">Giovani Atleti</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">18+</div>
              <div class="stat-label">Gruppi Gestiti</div>
            </div>
          </div>
<!-- Typewriter Text --> 
          <div class="typewriter-container">
            <span class="typewriter-text" #typewriterText></span>
            <span class="cursor" [class.typing]="isTyping"></span>
          </div>
        
          <div class="cta-container" [class.appear]="buttonAnimationState">
            <button class="cta-button" (mouseenter)="handleButtonHover($event)">
              Scopri la Nostra Storia
              <div class="particle-container">
                <div class="particles"></div>
              </div>
            </button>
          </div>
        </div>
      </div>
    </section>


    <!-- Sponsors Section -->
    <section id="sponsors" class="sponsors-section" [class.active]="currentSection === 'sponsors'">
      <div class="sponsor-carousel-container">
        <div class="sponsor-carousel" 
             #sponsorCarousel
             (mouseenter)="pauseAnimation(sponsorCarousel)"
             (mouseleave)="resumeAnimation(sponsorCarousel)">
          <div class="sponsor-item" *ngFor="let sponsor of duplicatedSponsors">
            <img [src]="sponsor.imageUrl" [alt]="sponsor.name">
          </div>
        </div>
      </div>
    </section>

    <!-- Component Sections -->
    <app-story id="story" class="section" [class.active]="currentSection === 'story'">
    </app-story>

    
    <app-news  id="social"  class="section"  [class.active]="currentSection === 'social'"></app-news>

    <!-- Achievement Section 
    <section id="achievements" class="section achievements-section" [class.active]="currentSection === 'achievements'">
      <div class="achievements-content">
        <h2 class="section-title">I Nostri Successi</h2>
        <div class="achievements-grid">
          <div class="achievement-card" *ngFor="let achievement of achievements">
            <div class="achievement-icon">
              <i class="lucide" [class]="achievement.icon"></i>
            </div>
            <div class="achievement-year">{{ achievement.year }}</div>
            <h3 class="achievement-title">{{ achievement.title }}</h3>
            <p class="achievement-description">{{ achievement.description }}</p>
          </div>
        </div>
      </div>
    </section>-->
<app-palestre-preview id="palestre" 
                      class="section" 
                      [class.active]="currentSection === 'palestre'">
</app-palestre-preview>

    <app-matches-section id="matches" 
                        class="section" 
                        [class.active]="currentSection === 'matches'"
                        [upcomingMatches]="upcomingMatches">
    </app-matches-section>

 <!--   <app-teams-section id="teams" 
                      class="section" 
                      [class.active]="currentSection === 'teams'"
                      [teams]="teams">
    </app-teams-section>

    <app-shop-preview id="shop" 
                      class="section" 
                      [class.active]="currentSection === 'shop'">
    </app-shop-preview>
</div>--> 

  <!-- Navigation Dots - Only visible on desktop -->
  <div class="navigation-dots" *ngIf="!isMobile">
    <button *ngFor="let section of sections"
            class="nav-dot"
            [class.active]="currentSection === section.id"
            (click)="scrollToSection(section.id)">
      <span class="dot-label">{{section.name}}</span>
    </button>
  </div>
</div>